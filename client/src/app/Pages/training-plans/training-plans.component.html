@if (allTrainingPlans$ | async; as allTrainingPlans) {
<div class="dropdown">
  <a
    href="#"
    class="d-flex align-items-center col-lg-4 mb-lg-0 link-dark text-decoration-none dropdown-toggle"
    id="dropdownNavLink"
    data-bs-toggle="dropdown"
    aria-expanded="false"
  >
    Trainingspläne
  </a>
  <ul class="dropdown-menu text-small shadow" aria-labelledby="dropdownNavLink">
    <li>
      <a href="/" #navLink class="dropdown-item">Trainingspläne</a>
    </li>
    <li>
      <a href="/exercises" #navLink class="dropdown-item">Übungen</a>
    </li>
    <li><hr class="dropdown-divider" /></li>
    <li>
      <a href="/statistics" #navLink class="dropdown-item">Statistiken</a>
    </li>
  </ul>
</div>

<!-- + Button with Label -->

<div class="container mt-4 mb-3">
  <div class="d-flex justify-content-end align-items-center">
    <span class="me-2">Neuen Plan erstellen</span>
    <button type="button" class="btn btn-light" (click)="createNewPlan()">
      <i class="bx bx-plus"></i>
    </button>
  </div>
</div>

<section id="gallery">
  <div class="container">
    <div class="row">
      <!-- Alert if no training plans -->
      @if (filteredTrainingPlans$ | async; as filteredTrainingPlans) { @if
      (filteredTrainingPlans.length === 0 && allTrainingPlans.length === 0) {
      <div class="col-12">
        <app-alert
          alertType="light"
          alertText="Du hast noch keine eigenen Trainingspläne erstellt. Erstelle welche mit dem Button oben!"
        ></app-alert>
      </div>
      } @else if (filteredTrainingPlans.length === 0) {
      <div class="col-12">
        <app-alert
          alertType="light"
          alertText="Keine deiner bestehenden Trainingpläne passen zu dieser Suchanfrage!"
        ></app-alert>
      </div>
      } @else { @for (trainingPlan of filteredTrainingPlans; track trainingPlan)
      {
      <div [ngClass]="getColumnClass()">
        <app-training-plan-card
          [trainingPlan]="trainingPlan"
          [columnClass]="getColumnClass()"
          (changedPlanConstellation)="onChangedPlanConstellation()"
        ></app-training-plan-card>
      </div>
      } } }
    </div>
  </div>
</section>
} @else {
<app-spinner></app-spinner>
}
